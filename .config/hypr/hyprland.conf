# Monitors
#monitor=DP-1,2560x1440@165,0x0,1
#monitor=HDMI-A-1,1920x1080@72,2560x0,1 
monitor=eDP-1,1920x1080@144,0x0,1
monitor=eDP-1,addreserved,0,50,0,0

# env
env = QT_QPA_PLATFORM,wayland
env = HYPR,$HOME/.config/hypr
env = SCRIPTS,$HOME/.config/hypr/scripts
env = GTK_USE_PORTAL=0
# plugin = $HOME/.config/hypr/plugins/hyprbars.so

# Autostart programs
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = $SCRIPTS/autostart.sh

# Input
input {
  kb_layout = us, at
  kb_options = grp:alt_shift_toggle
  kb_variant =
  kb_model =
  kb_rules =
  follow_mouse = 1
  touchpad {
    disable_while_typing = true
    natural_scroll = true
    tap-to-click = true
  }
  sensitivity = 0 # -1.0 - 1.0, 0 means no modification.
} 
# General
general {
  gaps_in = 5
  gaps_out = 10
  border_size = 2
  col.active_border = 0xff00ffb1 0xff53befc
  col.inactive_border = 0xff2d3139
  col.group_border_active = 0xffFFC457 0xfff7467b 45deg 
  col.group_border = 0xff2d3139
  col.group_border_locked_active = 0xffFFC457 0xfff7467b 45deg
  no_border_on_floating = false
  layout = dwindle
  resize_on_border = true
}

# Misc
misc {
  disable_hyprland_logo = true
  disable_splash_rendering = true
  mouse_move_enables_dpms = true
  vfr = true
render_titles_in_groupbar = true
groupbar_gradients = false 
  enable_swallow = true
}

plugin {
    hyprbars {
      bar_color = 0xbb0E1115
      bar_height = 30
      bar_text_color = 0xbbffffff
      bar_text_size = 12
      bar_text_font = "Inter Medium"

      buttons {
          button_size = 15
          col.maximize = 0xbb2BCAFC
          col.close = 0xbbf7467b 
        }
    }

    borders-plus-plus {
        add_borders = 2 # 0 - 2
        col.border_1 = 0xff2d3139 # example col for border 1
        col.border_2 = 0xdd00ffb1 0xdd2bfcfc
    }
}

# Decorations
decoration {
  # Rounded corners
  rounding = 0
  multisample_edges = true
  # Opacity
  active_opacity = 1.0
  inactive_opacity = 1.0
  # Blur
  blur = true
  blur_size = 2
  blur_passes = 4
  blur_new_optimizations = true
  # blur_xray = true
  # blur_ignore_opacity = false
  # Shadow
  drop_shadow = yes
  shadow_range = 35
  shadow_render_power = 2
  col.shadow = 0x99000000
  col.shadow_inactive = 0x77000000
  # Dim
  dim_special = 0.25
  dim_inactive = yes
  dim_strength = 0.25
}
# Blurring layerSurfaces
layerrule = blur,gtk-layer-shell
layerrule = ignorezero,gtk-layer-shell
layerrule = noanim,gtk-layer-shell
layerrule = blur,waybar
layerrule = ignorezero,waybar
layerrule = blur,rofi
layerrule = ignorezero,rofi
layerrule = blur,lockscreen
layerrule = blur,notifications
layerrule = ignorezero,notifications
# Animations
animations {
  enabled = true
  #bezier curve
  bezier = overshot, 0.1, 0.9, 0.2, 1.1
  bezier = workspace, 0.1, 0.9, 0.3, 1.025
  bezier = smoothOut, 0.36, 0, 0.66, -0.6
  bezier = smoothIn, 0.25, 1, 0.5, 0.8
  bezier = myBezier, 0.16, 1, 0.3, 1
  # animation list
  animation = windows, 1, 5, overshot, popin
  animation = windowsOut, 1, 4, smoothOut, slide
  animation = windowsMove, 1, 4, myBezier
  animation = border, 1, 10, myBezier
  animation = fade, 1, 5, myBezier
  animation = fadeDim, 1, 10, smoothIn
  animation = workspaces, 1, 7, workspace, slide
}
# Gestures
gestures {
  workspace_swipe = true
  workspace_swipe_fingers = 3
  workspace_swipe_forever = true
  workspace_swipe_numbered = true
  workspace_swipe_create_new = true
}
# Layouts
dwindle {
  no_gaps_when_only = false
  pseudotile = true # master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
  preserve_split = true # you probably want this
}
# Variables
$term = foot
$browser = firefox
$editor = WINIT_UNIX_BACKEND=x11 neovide
$files = dolphin
$launcher = sh $HOME/.config/rofi/launchers/type-6/launcher.sh
#$launcher = $SCRIPTS/apps/wofi.sh

# Window rules
windowrule = float, file_progress
windowrule = float, confirm
windowrule = float, dialog
windowrule = float, download
windowrule = float, notification
windowrule = float, error
windowrule = float, splash
windowrule = float, confirmreset
windowrule = float, title:Open File
windowrule = float, title:branchdialog
windowrule = float, zoom
windowrule = float, vlc
windowrule = float, Lxappearance
windowrule = float, ncmpcpp
windowrule = float, Rofi
windowrule = float, viewnior
windowrule = float, pavucontrol-qt
windowrule = float, gucharmap
windowrule = float, gnome-font
windowrule = float, org.gnome.Settings
windowrule = float, file-roller
windowrule = float, nautilus
windowrule = float, nemo
windowrule = float, $files
windowrule = float, obs
windowrule = float, wdisplays
windowrule = float, zathura
windowrule = float, *.exe
windowrule = tile, neovide
windowrule = float, title:wlogout
windowrule = float, pavucontrol-qt
windowrule = float, keepassxc
windowrule = idleinhibit focus, mpv
windowrule = idleinhibit fullscreen, firefox
windowrule = float, title:^(Media viewer)$
windowrule = float, title:^(Transmission)$
windowrule = float, title:^(Volume Control)$
windowrule = float, title:^(Picture-in-Picture)$
windowrule = float, title:^(Firefox — Sharing Indicator)$
windowrule = move 0 0, title:^(Firefox — Sharing Indicator)$
windowrule = size 800 600, title:^(Volume Control)$
windowrule = move 75 bash 44%, title:^(Volume Control)$
# Exit Screen
bind = SUPER, ESCAPE, exec, $SCRIPTS/apps/eww.sh windows | grep "*power" && ($SCRIPTS/apps/eww.sh update powerreveal=false && sleep 0.6s && $SCRIPTS/apps/eww.sh close power) || ($SCRIPTS/apps/eww.sh open power && $SCRIPTS/apps/eww.sh update powerreveal=true)
# Apps
bind = SUPER, RETURN, exec, $term
bind = SUPER SHIFT, RETURN, exec, [float] $term
bind = SUPER SHIFT, E, exec, $editor
bind = SUPER, E, exec, $files
bind = SUPER SHIFT, W, exec, $browser
bind = SUPER, D, exec, $launcher
# Rofi Applets
bind = SUPER, a, exec, $HOME/.config/rofi/applets/bin/apps.sh
bind = SUPER, b, exec, $HOME/.config/rofi/applets/bin/battery.sh
bind = SUPER ALT, l, exec, $HOME/.config/rofi/applets/bin/brightness.sh
bind = SUPER, q, exec, $HOME/.config/rofi/applets/bin/quicklinks.sh
bind = SUPER, v, exec, $SCRIPTS/apps/eww.sh windows | grep "*main" && ($SCRIPTS/apps/eww.sh update notificationsreveal=false && sleep 0.55s && $SCRIPTS/apps/eww.sh close main) || ($SCRIPTS/apps/eww.sh open main && $SCRIPTS/apps/eww.sh update notificationsreveal=true)
# Waybar toggle
bind = SUPER SHIFT, B, exec, killall waybar || (waybar -c $HYPR/ui/waybar/dock -s $HYPR/ui/waybar/dock.css & waybar -c $HYPR/ui/waybar/config -s  $HYPR/ui/waybar/style.css) &

bind = SUPER CTRL, B, exec, pgrep -f "waybar -c $HYPR/ui/waybar/config" && kill $(pgrep -f "waybar -c $HYPR/ui/waybar/config") || (waybar -c $HYPR/ui/waybar/config -s $HYPR/ui/waybar/style.css) &

bind = SUPER ALT, B, exec, pgrep -f "waybar -c $HYPR/ui/waybar/dock" && kill $(pgrep -f "waybar -c $HYPR/ui/waybar/dock") || (waybar -c $HYPR/ui/waybar/dock -s $HYPR/ui/waybar/dock.css) &
# Function keys
bind = ,XF86MonBrightnessUp, exec, $SCRIPTS/utils/brightness.sh up
bind = ,XF86MonBrightnessDown, exec, $SCRIPTS/utils/brightness.sh down
bind = SHIFT ,XF86MonBrightnessUp, exec, $SCRIPTS/utils/brightness.sh optima;
bind = ,XF86AudioRaiseVolume, exec, $SCRIPTS/utils/volume.sh up
bind = ,XF86AudioLowerVolume, exec, $SCRIPTS/utils/volume.sh down
bind = ,XF86AudioMute, exec, $SCRIPTS/utils/volume.sh mute
bind = ,XF86AudioMicMute, exec, microphone -t
# Screenshots
$screenshotarea_copy = $SCRIPTS/utils/grimblast.sh --notify copy area
$screenshotarea_save = $SCRIPTS/utils/grimblast.sh --notify save area
$screenshotarea_copysave = $SCRIPTS/utils/grimblast.sh --notify copysave area

$screenshotscreen_copy = $SCRIPTS/utils/grimblast.sh --notify copy screen
$screenshotscreen_save = $SCRIPTS/utils/grimblast.sh ---notify save screen
$screenshotscreen_copysave = $SCRIPTS/utils/grimblast.sh --notify copysave screen

bind = SUPER, Print, exec, $screenshotscreen_copysave

bind = SUPER, C, exec, $screenshotscreen_copy
bind = SUPER SHIFT, C, exec, $screenshotscreen_save
bind = SUPER CTRL, C, exec, $screenshotscreen_copysave

bind = SUPER ALT, C, exec, $screenshotarea_copy
bind = SUPER SHIFT ALT, C, exec, $screenshotarea_save
bind = SUPER CTRL ALT, C, exec, $screenshotarea_copysave

# Notification Center
bind = SUPER, N, exec, swaync-client -t -sw 

# Alt tab
bind = SUPER, TAB, cyclenext,          # change focus to another window
bind = ALT, TAB, exec, $HOME/.config/rofi/launchers/type-2/launcher.sh
bind = ALT, TAB, bringactivetotop,   # bring it to the top
# Misc
bind = SUPER, L, exec, swaylock -C $HYPR/ui/swaylock/config -L -K
bind = SUPER SHIFT, O, exec, run-as-service wl-ocr
# Window management
bind = SUPER, BACKSPACE, killactive,
bind = SUPER SHIFT, ESCAPE, exec, killall eww && ($SCRIPTS/apps/eww.sh open lumin & $SCRIPTS/apps/eww.sh open melody & $SCRIPTS/apps/eww.sh open disclose)
bind = SUPER ALT, Q, exit,
bind = SUPER, F, fullscreen, 1
bind = SUPER SHIFT, F, fullscreen, 0
bind = SUPER CTRL, F, fakefullscreen,
bind = SUPER, Space, togglefloating,
bind = SUPER, P, pseudo, # dwindle
bind = SUPER ALT, P, pin,
bind = SUPER, J, togglesplit, # dwindle
# Focus
bind = SUPER, left, movefocus, l
bind = SUPER, right, movefocus, r
bind = SUPER, up, movefocus, u
bind = SUPER, down, movefocus, d
# Move
bind = SUPER SHIFT, left, movewindow, l
bind = SUPER SHIFT, right, movewindow, r
bind = SUPER SHIFT, up, movewindow, u
bind = SUPER SHIFT, down, movewindow, d
# Resize
bind = SUPER CTRL, left, resizeactive, -20 0
bind = SUPER CTRL, right, resizeactive, 20 0
bind = SUPER CTRL, up, resizeactive, 0 -20
bind = SUPER CTRL, down, resizeactive, 0 20
# Tabbed
bind= SUPER, g, togglegroup
bind= CTRL, tab, changegroupactive
# Special workspace
bind = SUPER, S, togglespecialworkspace
bind = SUPERSHIFT, S, movetoworkspace, special
bind = SUPER ALT, S, workspaceopt, allfloat
# Switch workspaces
bind = SUPER, 1, workspace, 1
bind = SUPER, 2, workspace, 2
bind = SUPER, 3, workspace, 3
bind = SUPER, 4, workspace, 4
bind = SUPER, 5, workspace, 5
bind = SUPER, 6, workspace, 6
bind = SUPER, 7, workspace, 7
bind = SUPER, 8, workspace, 8
bind = SUPER, 9, workspace, 9
bind = SUPER, 0, workspace, 0
bind = SUPER ALT, up, workspace, e+1
bind = SUPER ALT, down, workspace, e-1
# Move active window to a workspace
bind = SUPER SHIFT, 1, movetoworkspace, 1
bind = SUPER SHIFT, 2, movetoworkspace, 2
bind = SUPER SHIFT, 3, movetoworkspace, 3
bind = SUPER SHIFT, 4, movetoworkspace, 4
bind = SUPER SHIFT, 5, movetoworkspace, 5
bind = SUPER SHIFT, 6, movetoworkspace, 6
bind = SUPER SHIFT, 7, movetoworkspace, 7
bind = SUPER SHIFT, 8, movetoworkspace, 8
bind = SUPER SHIFT, 9, movetoworkspace, 9
bind = SUPER SHIFT, 0, movetoworkspace, 0
  
# Mouse bindings
bindm = SUPER, mouse:272, movewindow
bindm = SUPER, mouse:273, resizewindow
bind = SUPER, mouse_down, workspace, e+1
bind = SUPER, mouse_up, workspace, e-1
